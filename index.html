<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Ultimate Tic Tac Toe</title>
</head>
<body>
    <div class="header">
        <h1>Tic Tac Toe!</h1>
        <h2>Player 1 - Make your selection, you will be "X"</h2>
        <h2>Player 2 - Go second, you will be "0"</h2>
    </div>

    <div class="container">
        <div class="square" id="s1" onclick="select(square1); announceWinner()"></div>
        <div class="square" id="s2" onclick="select(square2); announceWinner()"></div>
        <div class="square" id="s3" onclick="select(square3); announceWinner()"></div>
        <div class="square" id="s4" onclick="select(square4); announceWinner()"></div>
        <div class="square" id="s5" onclick="select(square5); announceWinner()"></div>
        <div class="square" id="s6" onclick="select(square6); announceWinner()"></div>
        <div class="square" id="s7" onclick="select(square7); announceWinner()"></div>
        <div class="square" id="s8" onclick="select(square8); announceWinner()"></div>
        <div class="square" id="s9" onclick="select(square9); announceWinner()"></div>
    </div>

    <div class="reset-div">
        <button id="reset-button" onclick="reset()">RESET</button>
    </div>



    <script>
        //declare a variable for each square on the game board
        const square1 = document.getElementById("s1");
        const square2 = document.getElementById("s2");
        const square3 = document.getElementById("s3");
        const square4 = document.getElementById("s4");
        const square5 = document.getElementById("s5");
        const square6 = document.getElementById("s6");
        const square7 = document.getElementById("s7");
        const square8 = document.getElementById("s8");
        const square9 = document.getElementById("s9");

        let turnCounter = 0;

        //Change text to "X" when first user clicks a square
        function select(selection) {
            turnCounter = turnCounter + 1;


            if (turnCounter === 1 || turnCounter === 3 || turnCounter === 5 || turnCounter === 7 || turnCounter === 9){
                selection.textContent = "X";
                selection.onclick = null;              
            } else if (turnCounter === 2 || turnCounter === 4 || turnCounter === 6 || turnCounter === 8){
                selection.textContent = "O";
                selection.onclick = null;
            };

            //Change border-color depending on whether it is "X" or "O"
            if (turnCounter === 1 || turnCounter === 3 || turnCounter === 5 || turnCounter === 7 || turnCounter === 9){
                selection.setAttribute("class", "square selected-x")
            } else {
                selection.setAttribute("class", "square selected-0")
            };

        };


        // //determine if there is a winner and announce whether it is "x's" or "o's"
        function announceWinner(selection) {
            
            //Check for win by "X"
            if (square1.textContent == "X" && square2.textContent == "X" && square3.textContent == "X") {

                //create winner announcement at bottom of page.
                let winner = document.createElement("div");
                document.body.appendChild(winner);
                winner.setAttribute("id", "winner-div")
                winner.textContent = "X wins this one!";             
                
                square1.onclick = null;
                square2.onclick = null;
                square3.onclick = null
                square4.onclick = null;
                square5.onclick = null;
                square6.onclick = null;
                square7.onclick = null;
                square8.onclick = null;
                square9.onclick = null;
            }  else if (square1.textContent == "X" && square4.textContent == "X" && square7.textContent == "X") {


                let winner = document.createElement("div");
                document.body.appendChild(winner);
                winner.setAttribute("id", "winner-div")
                winner.textContent = "X wins this one!";

                square1.onclick = null;
                square4.onclick = null;
                square2.onclick = null;
                square5.onclick = null;
                square6.onclick = null;
                square7.onclick = null;
                square3.onclick = null;
                square8.onclick = null;
                square9.onclick = null;
            } else if (square1.textContent == "X" && square5.textContent == "X" && square9.textContent == "X") {

                let winner = document.createElement("div");
                document.body.appendChild(winner);
                winner.setAttribute("id", "winner-div")
                winner.textContent = "X wins this one!";   
  

                square1.onclick = null;
                square2.onclick = null;
                square3.onclick = null
                square4.onclick = null;
                square5.onclick = null;
                square6.onclick = null;
                square7.onclick = null;
                square8.onclick = null;
                square9.onclick = null;
            } else if (square2.textContent == "X" && square5.textContent == "X" && square8.textContent == "X") {

                let winner = document.createElement("div");
                document.body.appendChild(winner);
                winner.setAttribute("id", "winner-div")
                winner.textContent = "X wins this one!";   
   

                square1.onclick = null;
                square2.onclick = null;
                square3.onclick = null
                square4.onclick = null;
                square5.onclick = null;
                square6.onclick = null;
                square7.onclick = null;
                square8.onclick = null;
                square9.onclick = null;
            } else if (square3.textContent == "X" && square6.textContent == "X" && square9.textContent == "X") {

                let winner = document.createElement("div");
                document.body.appendChild(winner);
                winner.setAttribute("id", "winner-div")
                winner.textContent = "X wins this one!";   

                square1.onclick = null;
                square2.onclick = null;
                square3.onclick = null
                square4.onclick = null;
                square5.onclick = null;
                square6.onclick = null;
                square7.onclick = null;
                square8.onclick = null;
                square9.onclick = null;
            } else if (square3.textContent == "X" && square5.textContent == "X" && square7.textContent == "X") {

                let winner = document.createElement("div");
                document.body.appendChild(winner);
                winner.setAttribute("id", "winner-div")
                winner.textContent = "X wins this one!";   

                square1.onclick = null;
                square2.onclick = null;
                square3.onclick = null
                square4.onclick = null;
                square5.onclick = null;
                square6.onclick = null;
                square7.onclick = null;
                square8.onclick = null;
                square9.onclick = null;
            } else if (square4.textContent == "X" && square5.textContent == "X" && square6.textContent == "X") {

                let winner = document.createElement("div");
                document.body.appendChild(winner);
                winner.setAttribute("id", "winner-div")
                winner.textContent = "X wins this one!";   

                square1.onclick = null;
                square2.onclick = null;
                square3.onclick = null
                square4.onclick = null;
                square5.onclick = null;
                square6.onclick = null;
                square7.onclick = null;
                square8.onclick = null;
                square9.onclick = null;
            } else if (square7.textContent == "X" && square8.textContent == "X" && square9.textContent == "X") {

                let winner = document.createElement("div");
                document.body.appendChild(winner);
                winner.setAttribute("id", "winner-div")
                winner.textContent = "X wins this one!";  

                square1.onclick = null;
                square2.onclick = null;
                square3.onclick = null
                square4.onclick = null;
                square5.onclick = null;
                square6.onclick = null;
                square7.onclick = null;
                square8.onclick = null;
                square9.onclick = null;
            } else 


            //Check for win by "O"
            if (square1.textContent == "O" && square2.textContent == "O" && square3.textContent == "O") {

                let winner = document.createElement("div");
                document.body.appendChild(winner);
                winner.setAttribute("id", "winner-div")
                winner.textContent = "O wins this one!";   

                square1.onclick = null;
                square2.onclick = null;
                square3.onclick = null
                square4.onclick = null;
                square5.onclick = null;
                square6.onclick = null;
                square7.onclick = null;
                square8.onclick = null;
                square9.onclick = null;
            }  else if (square1.textContent == "O" && square4.textContent == "O" && square7.textContent == "O") {

                let winner = document.createElement("div");
                document.body.appendChild(winner);
                winner.setAttribute("id", "winner-div")
                winner.textContent = "O wins this one!"; 

                square1.onclick = null;
                square4.onclick = null;
                square2.onclick = null;
                square5.onclick = null;
                square6.onclick = null;
                square7.onclick = null;
                square3.onclick = null;
                square8.onclick = null;
                square9.onclick = null;
            } else if (square1.textContent == "O" && square5.textContent == "O" && square9.textContent == "O") {

                let winner = document.createElement("div");
                document.body.appendChild(winner);
                winner.setAttribute("id", "winner-div")
                winner.textContent = "O wins this one!";  

                square1.onclick = null;
                square2.onclick = null;
                square3.onclick = null
                square4.onclick = null;
                square5.onclick = null;
                square6.onclick = null;
                square7.onclick = null;
                square8.onclick = null;
                square9.onclick = null;
            } else if (square2.textContent == "O" && square5.textContent == "O" && square8.textContent == "O") {

                let winner = document.createElement("div");
                document.body.appendChild(winner);
                winner.setAttribute("id", "winner-div")
                winner.textContent = "O wins this one!";  

                square1.onclick = null;
                square2.onclick = null;
                square3.onclick = null
                square4.onclick = null;
                square5.onclick = null;
                square6.onclick = null;
                square7.onclick = null;
                square8.onclick = null;
                square9.onclick = null;
            } else if (square3.textContent == "O" && square6.textContent == "O" && square9.textContent == "O") {

                let winner = document.createElement("div");
                document.body.appendChild(winner);
                winner.setAttribute("id", "winner-div")
                winner.textContent = "O wins this one!";  

                square1.onclick = null;
                square2.onclick = null;
                square3.onclick = null
                square4.onclick = null;
                square5.onclick = null;
                square6.onclick = null;
                square7.onclick = null;
                square8.onclick = null;
                square9.onclick = null;
            } else if (square3.textContent == "O" && square5.textContent == "O" && square7.textContent == "O") {

                let winner = document.createElement("div");
                document.body.appendChild(winner);
                winner.setAttribute("id", "winner-div")
                winner.textContent = "O wins this one!"; 

                square1.onclick = null;
                square2.onclick = null;
                square3.onclick = null
                square4.onclick = null;
                square5.onclick = null;
                square6.onclick = null;
                square7.onclick = null;
                square8.onclick = null;
                square9.onclick = null;
            } else if (square4.textContent == "O" && square5.textContent == "O" && square6.textContent == "O") {

                let winner = document.createElement("div");
                document.body.appendChild(winner);
                winner.setAttribute("id", "winner-div")
                winner.textContent = "O wins this one!";     

                square1.onclick = null;
                square2.onclick = null;
                square3.onclick = null
                square4.onclick = null;
                square5.onclick = null;
                square6.onclick = null;
                square7.onclick = null;
                square8.onclick = null;
                square9.onclick = null;
            } else if (square7.textContent == "O" && square8.textContent == "O" && square9.textContent == "O") {

                let winner = document.createElement("div");
                document.body.appendChild(winner);
                winner.setAttribute("id", "winner-div")
                winner.textContent = "O wins this one!";      

                square1.onclick = null;
                square2.onclick = null;
                square3.onclick = null
                square4.onclick = null;
                square5.onclick = null;
                square6.onclick = null;
                square7.onclick = null;
                square8.onclick = null;
                square9.onclick = null;
            } else if (turnCounter === 9) {
                let winner = document.createElement("div");
                document.body.appendChild(winner);
                winner.setAttribute("id", "winner-div")
                winner.textContent = "It's a tie!";  
            }
        };

        function reset() {

            turnCounter = 0;

            //Remove x's and o's
            square1.textContent = "";
            square2.textContent = "";
            square3.textContent = "";
            square4.textContent = "";
            square5.textContent = "";
            square6.textContent = "";
            square7.textContent = "";
            square8.textContent = "";
            square9.textContent = "";

            //Remove the winner announcement

            //not sure why this variable is necessary since it is already part of the dom?
            let winner = document.getElementById("winner-div");

            square1.setAttribute("onclick", "select(square1); announceWinner()");
            square2.setAttribute("onclick", "select(square2); announceWinner()");
            square3.setAttribute("onclick", "select(square3); announceWinner()");
            square4.setAttribute("onclick", "select(square4); announceWinner()");
            square5.setAttribute("onclick", "select(square5); announceWinner()");
            square6.setAttribute("onclick", "select(square6); announceWinner()");
            square7.setAttribute("onclick", "select(square7); announceWinner()");
            square8.setAttribute("onclick", "select(square8); announceWinner()");
            square9.setAttribute("onclick", "select(square9); announceWinner()");

            square1.setAttribute("class", "square")
            square2.setAttribute("class", "square");
            square3.setAttribute("class", "square");
            square4.setAttribute("class", "square");
            square5.setAttribute("class", "square");
            square6.setAttribute("class", "square");
            square7.setAttribute("class", "square");
            square8.setAttribute("class", "square");
            square9.setAttribute("class", "square");

            //remove the div containing the winner announcement
            document.body.removeChild(winner);
        }

    </script>
</body>
</html>